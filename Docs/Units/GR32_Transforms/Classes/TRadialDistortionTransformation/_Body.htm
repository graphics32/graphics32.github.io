<html>

<head>
  <link rel="STYLESHEET" href="../../../../../Styles/Default.css">

  <meta name="Ancestor" content="TTransformation">

  <title>TRadialDistortionTransformation</title><script type="text/javascript" src="../../../../../CodeScripts/SyntaxHighlighter/scripts/shCore.js"></script><script type="text/javascript" src="../../../../../CodeScripts/SyntaxHighlighter/scripts/shBrushDelphi.js"></script><script type="text/javascript" src="../../../../../CodeScripts/SyntaxHighlighter/scripts/shBrushCpp.js"></script><script type="text/javascript" src="../../../../../CodeScripts/SyntaxHighlighter/scripts/shBrushCSharp.js"></script><link rel="stylesheet" type="text/css" href="../../../../../Styles/default.css"/><link rel="stylesheet" type="text/css" href="../../../../../Menu/menu.css"/><link rel="stylesheet" type="text/css" href="../../../../../CodeScripts/SyntaxHighlighter/styles/shCoreDefault.css"/><link rel="stylesheet" type="text/css" href="../../../../../CodeScripts/SyntaxHighlighter/styles/shThemeDefault.css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"><script type="text/javascript" src="../../../../../Menu/menu.js"></script><script type="text/javascript" src="../../../../../CodeScripts/bootstrap.js"></script>
</head>
<body bgcolor="#FFFFFF">
  <div class="menu" id="menu"><a class="ancestor" href="../../../../_Body.htm">Index</a><a class="ancestor" href="../../_Body.htm">GR32_Transforms</a><span class="active">TRadialDistortionTransformation</span>
  </div><br><br>

  <h1>TRadialDistortionTransformation</h1>
  <h2>Ancestors</h2>
  <div class="Hierarchy">TObject
  </div>
  <div class="Hierarchy">&nbsp;&nbsp;&nbsp;|
  </div>
  <div class="Hierarchy"><a href="../TTransformation/_Body.htm">TTransformation</a>
  </div><br>

  <h2>Description</h2>

  <p class="Body">The radial distortion transformation can be used to correct or create a kind of distortion created by optical lenses. This kind of distortion is normally visible as barrel distortion, pincushion distortion or a blend between those types.</p>

  <p class="Body">This transformation uses the formula of the <a href="https://en.wikipedia.org/wiki/Distortion_(optics)">Brown-Conrady model</a>:</p>

  <p class="Body"> <tt>
		p_dst = p_center + (p_src - p_center) * (Coefficient1 * sqr(r) + Coefficient2 * sqr(sqr(r)))<br>
		r = abs(p_src - p_center)
	
    </tt> </p>

  <p class="Body">Where:</p>

  <ul>
    <li><tt>p_center
      </tt> is the focal point of the distortion, normally in the middle of the source image (in the current implementation it is fixed to the middle)</li>
    <li><tt>p_src
      </tt> is a point of the source image and</li>
    <li><tt>p_dst
      </tt> is the transformed point</li>
    <li>The two coefficients <a href="Properties/Coefficient1.htm">Coefficient1</a> and <a href="Properties/Coefficient2.htm">Coefficient2</a> depend on the zoom and physical characteristics of the optical lenses used. They are usually determined such that straight lines in the scene seen through the lenses, which appear as bent lines because of the distortion, map to straight lines again after applying this transformation.</li>

  </ul>
  <p class="Body">This transformation implements the forward and backward transform. The forward transform is given by the formula above. The backward transform requires to invert a 4th degree polynomial, which is a nonlinear function. Because of that a discrete map is used. The number of elements of this map can be set using <a href="Properties/MapElements.htm">MapElements</a>. </p>

  <p class="Body">Only the float transform level is implemented. Speedups could still be gained by implementing fixed and integer transforms.</p>

  <p class="Body">
  </p>


  <h2 id="Auto-Reference">Reference</h2>
  <p>
    <table class="autoTbl">
      <tr>
        <th>Methods</th>
        <th style="width: 100%;">Properties</th>
      </tr>
      <tr>
        <td colspan="2" class="ancestor">In TRadialDistortionTransformation:
        </td>
      </tr>
      <tr>
        <td>
        </td>
        <td><a href="Properties/Coefficient1.htm">Coefficient1</a>
        </td>
      </tr>
      <tr>
        <td>
        </td>
        <td><a href="Properties/Coefficient2.htm">Coefficient2</a>
        </td>
      </tr>
      <tr>
        <td>
        </td>
        <td><a href="Properties/MapElements.htm">MapElements</a>
        </td>
      </tr>
      <tr>
        <td colspan="2" class="ancestor">In TTransformation:
        </td>
      </tr>
      <tr>
        <td><a href="../TTransformation/Methods/GetTransformedBounds.htm">GetTransformedBounds</a>
        </td>
        <td><a href="../TTransformation/Properties/SrcRect.htm">SrcRect</a>
        </td>
      </tr>
      <tr>
        <td><a href="../TTransformation/Methods/HasTransformedBounds.htm">HasTransformedBounds</a>
        </td>
        <td>
        </td>
      </tr>
      <tr>
        <td><a href="../TTransformation/Methods/ReverseTransform.htm">ReverseTransform</a>
        </td>
        <td>
        </td>
      </tr>
      <tr>
        <td><a href="../TTransformation/Methods/Transform.htm">Transform</a>
        </td>
        <td>
        </td>
      </tr>
    </table></p>
  <h2 id="Auto-SeeAlso">See Also</h2>
  <p class="Body"><a href="../TFishEyeTransformation/_Body.htm">TFishEyeTransformation</a></p>
  <p class="Copyright" id="auto"> <br><br> Copyright &copy;2000-2024 Alex Denisov and the Graphics32 Team &nbsp; - &nbsp; Graphics32 2.0 &nbsp; - &nbsp; Help file built on 18 Feb 2024 <br><br> </p>

</body>

</html>